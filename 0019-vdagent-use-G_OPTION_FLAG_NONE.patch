From be46e523c1f0e8b09bf7e409c28cf14b6e323bc0 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Marc-Andr=C3=A9=20Lureau?= <marcandre.lureau@redhat.com>
Date: Fri, 22 Mar 2019 16:12:42 +0100
Subject: [PATCH 19/23] vdagent: use G_OPTION_FLAG_NONE
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

Improve readability a bit, reindent slightly.

Signed-off-by: Marc-Andr√© Lureau <marcandre.lureau@redhat.com>
---
 src/vdagent/vdagent.c | 37 ++++++++++++++++++++++---------------
 1 file changed, 22 insertions(+), 15 deletions(-)

diff --git a/src/vdagent/vdagent.c b/src/vdagent/vdagent.c
index a944214..e799602 100644
--- a/src/vdagent/vdagent.c
+++ b/src/vdagent/vdagent.c
@@ -66,25 +66,32 @@ static gchar *portdev = NULL;
 static gchar *vdagentd_socket = NULL;
 
 static GOptionEntry entries[] = {
-    { "debug", 'd', 0,
-       G_OPTION_ARG_NONE, &debug,
-       "Enable debug", NULL },
-    { "virtio-serial-port-path", 's', 0,
+    { "debug", 'd',
+      G_OPTION_FLAG_NONE,
+      G_OPTION_ARG_NONE, &debug,
+      "Enable debug", NULL },
+    { "virtio-serial-port-path", 's',
+      G_OPTION_FLAG_NONE,
       G_OPTION_ARG_STRING, &portdev,
       "Set virtio-serial path ("  DEFAULT_VIRTIO_PORT_PATH ")", NULL },
-    { "vdagentd-socket", 'S', 0, G_OPTION_ARG_STRING,
-       &vdagentd_socket,
-       "Set spice-vdagentd socket (" VDAGENTD_SOCKET ")", NULL },
-    { "foreground", 'x', G_OPTION_FLAG_REVERSE,
-       G_OPTION_ARG_NONE, &do_daemonize,
-       "Do not daemonize the agent", NULL },
-    { "file-xfer-save-dir", 'f', 0,
+    { "vdagentd-socket", 'S',
+      G_OPTION_FLAG_NONE,
+      G_OPTION_ARG_STRING, &vdagentd_socket,
+      "Set spice-vdagentd socket (" VDAGENTD_SOCKET ")", NULL },
+    { "foreground", 'x',
+      G_OPTION_FLAG_REVERSE,
+      G_OPTION_ARG_NONE, &do_daemonize,
+      "Do not daemonize the agent", NULL },
+    { "file-xfer-save-dir", 'f',
+      G_OPTION_FLAG_NONE,
       G_OPTION_ARG_STRING, &fx_dir,
       "Set directory to file transfers files", "<dir|xdg-desktop|xdg-download>"},
-    { "file-xfer-open-dir", 'o', 0,
-       G_OPTION_ARG_INT, &fx_open_dir,
-       "Open directory after completing file transfer", "<0|1>" },
-    { "x11-abort-on-error", 'y', G_OPTION_FLAG_HIDDEN,
+    { "file-xfer-open-dir", 'o',
+      G_OPTION_FLAG_NONE,
+      G_OPTION_ARG_INT, &fx_open_dir,
+      "Open directory after completing file transfer", "<0|1>" },
+    { "x11-abort-on-error", 'y',
+      G_OPTION_FLAG_HIDDEN,
       G_OPTION_ARG_NONE, &x11_sync,
       "Aborts on errors from X11", NULL },
     { NULL }
-- 
2.23.0

